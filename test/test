#

cp aliases.start aliases
CfgAliases --file aliases --fetch gw >tmp
if diff -q tmp aliases.fetch ; then
	echo test1: --fetch: pass
else
	echo test1: --fetch: fail
	rm tmp
	exit -1;
fi
rm tmp

cp aliases.start aliases
CfgAliases --file aliases --remove gw
if diff -q aliases aliases.remove1; then
	echo test2: --remove: pass
else
	echo test2: --remove: fail
	rm aliases aliases~?
	exit -1;
fi

# A test to see if it can successfully remove all occurrences of randym
cp aliases.start aliases
CfgAliases --file aliases --remove randym
if diff -q aliases aliases.remove2; then
	echo test3: --remove: pass
else
	echo test3: --remove: fail
	rm aliases aliases~?
	exit -1;
fi

#Test 4: A test to see if it can successfully add me (randym) to a single group
cp aliases.start aliases
CfgAliases --file aliases --join --group=gw
if diff -q aliases aliases.join1; then
	echo test4: --join: pass
else
	echo test4: --join: fail
	rm aliases aliases~?
	exit -1;
fi

#Test 5: A test to see if it can successfully add me (randym) to a single group
cp aliases.start aliases
CfgAliases --file aliases --add fred --group=gw
if diff -q aliases aliases.add; then
	echo test5: --add: pass
else
	echo test5: --add: fail
	rm aliases aliases~?
	exit -1;
fi

#Test 6: add and join are exclusive
cp aliases.start aliases
if CfgAliases --file aliases --join --add fred --group=gw >/dev/null 2>&1; then
	echo test6: --join --add: fail
	rm aliases aliases~?
	exit -1;
else
	echo test6: --join --add: pass
fi

#Test 7: add and remove are exclusive
cp aliases.start aliases
if CfgAliases --file aliases --remove joe --add fred --group=gw >/dev/null 2>&1; then
	echo test7: --remove --add: fail
	rm aliases aliases~?
	exit -1;
else
	echo test7: --join --add: pass
fi

rm aliases aliases~?
